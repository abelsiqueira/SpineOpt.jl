<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Simple system · SpineOpt.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SpineOpt.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../getting_started/installation/">Installation</a></li><li><a class="tocitem" href="../../getting_started/setup_workflow/">Setting up a workflow</a></li><li><a class="tocitem" href="../../getting_started/creating_your_own_model/">Creating Your Own Model</a></li><li><a class="tocitem" href="../../getting_started/example_models/">Example Models</a></li><li><a class="tocitem" href="../../getting_started/archetypes/">Archetypes</a></li><li><a class="tocitem" href="../../getting_started/output_data/">Managing Outputs</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li class="is-active"><a class="tocitem" href>Simple system</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Guide"><span>Guide</span></a></li></ul></li><li><a class="tocitem" href="../tutorialTwoHydro/">Two hydro plants</a></li><li><a class="tocitem" href="../case_study_a5/">Case Study A5</a></li></ul></li><li><span class="tocitem">Concept Reference</span><ul><li><a class="tocitem" href="../../concept_reference/the_basics/">Basics of the model structure</a></li><li><a class="tocitem" href="../../concept_reference/Object Classes/">Object Classes</a></li><li><a class="tocitem" href="../../concept_reference/Relationship Classes/">Relationship Classes</a></li><li><a class="tocitem" href="../../concept_reference/Parameters/">Parameters</a></li><li><a class="tocitem" href="../../concept_reference/Parameter Value Lists/">Parameter Value Lists</a></li></ul></li><li><span class="tocitem">Mathematical Formulation</span><ul><li><a class="tocitem" href="../../mathematical_formulation/variables/">Variables</a></li><li><a class="tocitem" href="../../mathematical_formulation/constraints/">Constraints</a></li><li><a class="tocitem" href="../../mathematical_formulation/objective_function/">Objective</a></li></ul></li><li><span class="tocitem">Advanced Concepts</span><ul><li><a class="tocitem" href="../../advanced_concepts/temporal_framework/">Temporal Framework</a></li><li><a class="tocitem" href="../../advanced_concepts/stochastic_framework/">Stochastic Framework</a></li><li><a class="tocitem" href="../../advanced_concepts/unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../../advanced_concepts/ramping_and_reserves/">Ramping and Reserves</a></li><li><a class="tocitem" href="../../advanced_concepts/investment_optimization/">Investment Optimization</a></li><li><a class="tocitem" href="../../advanced_concepts/user_constraints/">User Constraints</a></li><li><a class="tocitem" href="../../advanced_concepts/decomposition/">Decomposition</a></li><li><a class="tocitem" href="../../advanced_concepts/powerflow/">PTDF-Based Powerflow</a></li><li><a class="tocitem" href="../../advanced_concepts/pressure_driven_gas_transfer/">Pressure driven gas transfer</a></li><li><a class="tocitem" href="../../advanced_concepts/Lossless_DC_power_flow/">Lossless nodal DC power flows</a></li><li><a class="tocitem" href="../../advanced_concepts/representative_days_w_seasonal_storage/">Representative days with seasonal storages</a></li><li><a class="tocitem" href="../../advanced_concepts/cumulated_flow_restrictions/">Imposing renewable energy targets</a></li><li><a class="tocitem" href="../../advanced_concepts/mga/">Modelling to generate alternatives</a></li></ul></li><li><a class="tocitem" href="../../library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Simple system</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Simple system</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/spine-tools/SpineOpt.jl/blob/master/docs/src/tutorial/simple_system.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Simple-System-tutorial"><a class="docs-heading-anchor" href="#Simple-System-tutorial">Simple System tutorial</a><a id="Simple-System-tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#Simple-System-tutorial" title="Permalink"></a></h1><p>Welcome to Spine Toolbox&#39;s Simple System tutorial.</p><p>This tutorial provides a step-by-step guide to setup a simple energy system on Spine Toolbox.</p><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><h3 id="Model-assumptions"><a class="docs-heading-anchor" href="#Model-assumptions">Model assumptions</a><a id="Model-assumptions-1"></a><a class="docs-heading-anchor-permalink" href="#Model-assumptions" title="Permalink"></a></h3><ul><li>Two power plants take fuel from a source node and release   electricity to another node in order to supply a demand.</li><li>Power plant &#39;a&#39; has a capacity of 100 MWh, a variable operating cost   of 25 euro/fuel unit, and generates 0.7 MWh of electricity per unit   of fuel.</li><li>Power plant &#39;b&#39; has a capacity of 200 MWh, a variable operating cost   of 50 euro/fuel unit, and generates 0.8 MWh of electricity per unit   of fuel.</li><li>The demand at the electricity node is 150 MWh.</li><li>The fuel node is able to provide infinite energy.</li></ul><p><img src="../figs_simple_system/simple_system_schematic.png" alt="image"/></p><h3 id="Installation-and-upgrades"><a class="docs-heading-anchor" href="#Installation-and-upgrades">Installation and upgrades</a><a id="Installation-and-upgrades-1"></a><a class="docs-heading-anchor-permalink" href="#Installation-and-upgrades" title="Permalink"></a></h3><p>If you haven&#39;t yet installed the tools yet, please follow the installation guides: </p><ul><li>For Spine Toolbox: <a href="https://github.com/spine-tools/SpineOpt.jl#installation">Spine Toolbox installation guide</a></li><li>For SpineOpt: <a href="https://github.com/spine-tools/Spine-Toolbox#installation">SpineOpt installation guide</a></li></ul><p>If you are not sure whether you have the latest version, please upgrade to ensure compatibility with this guide.</p><ul><li><p>For Spine Toolbox:</p><ul><li>If installed with pipx, then use <code>python -m pipx upgrade spinetoolbox</code></li><li>If installed from sources using git, then <code>git pull</code>, <code>python -m pip install -U -r requirements.txt</code></li></ul></li><li><p>For SpineOpt: <a href="https://github.com/spine-tools/SpineOpt.jl#upgrading">SpineOpt upgrade guide</a></p></li></ul><h2 id="Guide"><a class="docs-heading-anchor" href="#Guide">Guide</a><a id="Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Guide" title="Permalink"></a></h2><h3 id="Entering-input-data"><a class="docs-heading-anchor" href="#Entering-input-data">Entering input data</a><a id="Entering-input-data-1"></a><a class="docs-heading-anchor-permalink" href="#Entering-input-data" title="Permalink"></a></h3><h4 id="Importing-the-SpineOpt-database-template"><a class="docs-heading-anchor" href="#Importing-the-SpineOpt-database-template">Importing the SpineOpt database template</a><a id="Importing-the-SpineOpt-database-template-1"></a><a class="docs-heading-anchor-permalink" href="#Importing-the-SpineOpt-database-template" title="Permalink"></a></h4><ul><li><p>Download <a href="https://raw.githubusercontent.com/spine-tools/SpineOpt.jl/master/templates/spineopt_template.json">the SpineOpt database   template</a>   and <a href="https://raw.githubusercontent.com/spine-tools/SpineOpt.jl/master/templates/models/basic_model_template.json">the basic SpineOpt   model</a>   (right click on the links, then select <em>Save link as...</em>)</p></li><li><p>Select the &#39;input&#39; Data Store item in the <em>Design View</em>.</p></li><li><p>Go to <em>Data Store Properties</em> and hit <strong>Open editor</strong>. This will   open the newly created database in the <em>Spine DB editor</em>, looking   similar to this:</p></li></ul><p><img src="../figs_a5/case_study_a5_spine_db_editor_empty.png" alt="image"/></p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The <em>Spine DB editor</em> is a dedicated interface within Spine Toolbox for visualizing and managing Spine databases.</p></div></div><ul><li><p>Press <strong>Alt + F</strong> to display the main menu, select <strong>File -&gt;   Import...</strong>, and then select the template file you previously   downloaded (<em>spineopt_template.json</em>). The contents of   that file will be imported into the current database, and you should   then see classes like &#39;commodity&#39;, &#39;connection&#39; and &#39;model&#39; under   the root node in the <em>Object tree</em> (on the left). Then import the   second file (<em>basic_model_template.json</em>).</p></li><li><p>From the main menu, select <strong>Session -&gt; Commit</strong>. Enter &#39;Import   SpineOpt template&#39; as message in the popup dialog, and click   <strong>Commit</strong>.</p></li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The SpineOpt basic template contains (i) the fundamental entity classes and parameter definitions that SpineOpt recognizes and expects; and (ii) some predefined entities for a common deterministic model with a &#39;flat&#39; temporal structure.</p></div></div><h4 id="Creating-objects"><a class="docs-heading-anchor" href="#Creating-objects">Creating objects</a><a id="Creating-objects-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-objects" title="Permalink"></a></h4><ul><li><p>Always in the Spine DB editor, locate the <em>Object tree</em> (typically   at the top-left). Expand the [root] element if not   expanded.</p></li><li><p>Right click on the [node] class, and select <em>Add   objects</em> from the context menu. The <em>Add objects</em> dialog will pop   up.</p></li><li><p>Enter the names for the system nodes as seen in the image below,   then press <em>Ok</em>. This will create two objects of class   <em>node</em>, called <em>fuel_node</em> and   <em>electricity_node</em>.</p></li></ul><p><img src="../figs_simple_system/simple_system_add_nodes.png" alt="image"/></p><ul><li>Right click on the <em>unit</em> class, and select <em>Add   objects</em> from the context menu. The <em>Add objects</em> dialog will pop   up.</li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>In SpineOpt, nodes are points where an energy balance takes place, whereas units are energy conversion devices that can take energy from nodes, and release energy to nodes.</p></div></div><ul><li>Enter the names for the system units as seen in the image below,   then press <em>Ok</em>. This will create two objects of class   <em>unit</em>, called <em>power_plant_a</em> and   <em>power_plant_b</em>.</li></ul><p><img src="../figs_simple_system/simple_system_add_units.png" alt="image"/></p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>To modify an object after you enter it, right click on it and select <strong>Edit...</strong> from the context menu.</p></div></div><h4 id="Establishing-relationships"><a class="docs-heading-anchor" href="#Establishing-relationships">Establishing relationships</a><a id="Establishing-relationships-1"></a><a class="docs-heading-anchor-permalink" href="#Establishing-relationships" title="Permalink"></a></h4><ul><li><p>Always in the Spine DB editor, locate the <em>Relationship tree</em>   (typically at the bottom-left). Expand the <em>root</em>   element if not expanded.</p></li><li><p>Right click on the <em>unit__from_node</em> class, and select   <em>Add relationships</em> from the context menu. The <em>Add relationships</em>   dialog will pop up.</p></li><li><p>Select the names of the two units and their <strong>sending</strong> nodes, as   seen in the image below; then press <em>Ok</em>. This will establish that   both <em>power_plant_a</em> and <em>power_plant_b</em>   take energy from the <em>fuel_node</em>.</p></li></ul><p><img src="../figs_simple_system/simple_system_add_unit__from_node_relationships.png" alt="image"/></p><ul><li><p>Right click on the <em>unit__to_node</em> class, and select   <em>Add relationships</em> from the context menu. The <em>Add relationships</em>   dialog will pop up.</p></li><li><p>Select the names of the two units and their <strong>receiving</strong> nodes, as   seen in the image below; then press <em>Ok</em>. This will establish that   both <em>power_plant_a</em> and <em>power_plant_b</em>   release energy into the <em>electricity_node</em>.</p></li></ul><p><img src="../figs_simple_system/simple_system_add_unit__to_node_relationships.png" alt="image"/></p><ul><li><p>Right click on the <em>report__output</em> class, and select   <em>Add relationships</em> from the context menu. The <em>Add relationships</em>   dialog will pop up.</p></li><li><p>Enter <em>report1</em> under <em>report</em>, and   <em>unit_flow</em> under <em>output</em>, as seen in the image below;   then press <em>Ok</em>. This will tell SpineOpt to write the value of the   <em>unit_flow</em> optimization variable to the output   database, as part of <em>report1</em>.</p></li></ul><p><img src="../figs_simple_system/simple_system_add_report__output_relationships.png" alt="image"/></p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>In SpineOpt, outputs represent optimization variables that can be written to the output database as part of a report.</p></div></div><h4 id="Specifying-object-parameter-values"><a class="docs-heading-anchor" href="#Specifying-object-parameter-values">Specifying object parameter values</a><a id="Specifying-object-parameter-values-1"></a><a class="docs-heading-anchor-permalink" href="#Specifying-object-parameter-values" title="Permalink"></a></h4><ul><li><p>Back to <em>Object tree</em>, expand the <em>node</em> class and   select <em>electricity_node</em>.</p></li><li><p>Locate the <em>Object parameter</em> table (typically at the top-center).</p></li><li><p>In the <em>Object parameter</em> table (typically at the top-center),   select the <em>demand</em> parameter and the <em>Base</em>   alternative, and enter the value <em>100</em> as seen in the   image below. This will establish that there&#39;s a demand of &#39;100&#39;   at the electricity node.</p></li></ul><p><img src="../figs_simple_system/simple_system_electricity_demand.png" alt="image"/></p><ul><li><p>Select <em>fuel_node</em> in the <em>Object tree</em>.</p></li><li><p>In the <em>Object parameter</em> table, select the   <em>balance_type</em> parameter and the <em>Base</em>   alternative, and enter the value <em>balance_type_none</em> as   seen in the image below. This will establish that the fuel node is   not balanced, and thus provide as much fuel as needed.</p></li></ul><p><img src="../figs_simple_system/simple_system_fuel_balance_type.png" alt="image"/></p><h4 id="Specifying-relationship-parameter-values"><a class="docs-heading-anchor" href="#Specifying-relationship-parameter-values">Specifying relationship parameter values</a><a id="Specifying-relationship-parameter-values-1"></a><a class="docs-heading-anchor-permalink" href="#Specifying-relationship-parameter-values" title="Permalink"></a></h4><ul><li><p>In <em>Relationship tree</em>, expand the <em>unit__from_node</em>   class and select <em>power_plant_a | fuel_node</em>.</p></li><li><p>In the <em>Relationship parameter</em> table (typically at the   bottom-center), select the <em>vom_cost</em> parameter and the   <em>Base</em> alternative, and enter the value <em>25</em>   as seen in the image below. This will set the operating cost for   <em>power_plant_a</em>.</p></li></ul><p><img src="../figs_simple_system/simple_system_power_plant_a_vom_cost.png" alt="image"/></p><ul><li><p>Select <em>power_plant_b | fuel_node</em> in the <em>Relationship   tree</em>.</p></li><li><p>In the <em>Relationship parameter</em> table, select the   <em>vom_cost</em> parameter and the <em>Base</em>   alternative, and enter the value <em>50</em> as seen in the   image below. This will set the operating cost for   <em>power_plant_b</em>.</p></li></ul><p><img src="../figs_simple_system/simple_system_power_plant_b_vom_cost.png" alt="image"/></p><ul><li><p>In <em>Relationship tree</em>, expand the <em>unit__to_node</em>   class and select <em>power_plant_a | electricity_node</em>.</p></li><li><p>In the <em>Relationship parameter</em> table, select the   <em>unit_capacity</em> parameter and the <em>Base</em>   alternative, and enter the value <em>100</em> as seen in the   image below. This will set the capacity for   <em>power_plant_a</em>.</p></li></ul><p><img src="../figs_simple_system/simple_system_power_plant_a_capacity.png" alt="image"/></p><ul><li><p>Select <em>power_plant_b | electricity_node</em> in the   <em>Relationship tree</em>.</p></li><li><p>In the <em>Relationship parameter</em> table, select the   <em>unit_capacity</em> parameter and the <em>Base</em>   alternative, and enter the value <em>200</em> as seen in the   image below. This will set the capacity for   <em>power_plant_b</em>.</p></li></ul><p><img src="../figs_simple_system/simple_system_power_plant_b_capacity.png" alt="image"/></p><ul><li><p>In <em>Relationship tree</em>, select the   <em>unit__node__node</em> class, and come back to the   <em>Relationship parameter</em> table.</p></li><li><p>In the <em>Relationship parameter</em> table, select <em>power_plant_a |   electricity_node | fuel_node</em> under <em>object name list</em>,   <em>fix_ratio_out_in_unit_flow</em> under <em>parameter name</em>,   <em>Base</em> under <em>alternative name</em>, and enter   <em>0.7</em> under <em>value</em>. Repeat the operation for   <em>power_plant_b</em>, but this time enter <em>0.8</em>   under <em>value</em>. This will set the conversion ratio from fuel to   electricity for <em>power_plant_a</em> and   <em>power_plant_b</em> to <em>0.7</em> and   <em>0.8</em>, respectively. It should like the image below.</p></li></ul><p><img src="../figs_simple_system/simple_system_fix_ratio_out_in_unit_flow.png" alt="image"/></p><p>When you&#39;re ready, commit all changes to the database.</p><h3 id="Executing-the-workflow"><a class="docs-heading-anchor" href="#Executing-the-workflow">Executing the workflow</a><a id="Executing-the-workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Executing-the-workflow" title="Permalink"></a></h3><ul><li><p>Go back to Spine Toolbox&#39;s main window, and hit the <strong>Execute   project</strong> button <img src="../figs_a5/play-circle.png" alt="image"/> from the tool bar.    You should see &#39;Executing All Directed Acyclic Graphs&#39; printed in   the <em>Event log</em> (at the bottom left by default).</p></li><li><p>Select the &#39;Run SpineOpt 1&#39; Tool. You should see the output from   SpineOpt in the <em>Julia Console</em>.</p></li></ul><h3 id="Examining-the-results"><a class="docs-heading-anchor" href="#Examining-the-results">Examining the results</a><a id="Examining-the-results-1"></a><a class="docs-heading-anchor-permalink" href="#Examining-the-results" title="Permalink"></a></h3><ul><li>Select the output data store and open the Spine DB editor.</li><li>Press <strong>Alt + F</strong> to display the main menu, and select <strong>Pivot -&gt;   Index</strong>.</li><li>Select   <em>report__unit__node__direction__stochastic_scenario</em>   under <strong>Relationship tree</strong>, and the first cell under   <strong>alternative</strong> in the <em>Frozen table</em>.</li><li>Under alternative in the Frozen table, you can choose results from   different runs. Pick the run you want to view. If the workflow has   been run several times, the most recent run will usually be found at   the bottom.</li><li>The <em>Pivot table</em> will be populated with results from the SpineOpt   run. It will look something like the image below.</li></ul><p><img src="../figs_simple_system/simple_system_results_pivot_table.png" alt="image"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../getting_started/output_data/">« Managing Outputs</a><a class="docs-footer-nextpage" href="../tutorialTwoHydro/">Two hydro plants »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 14 July 2023 14:01">Friday 14 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
