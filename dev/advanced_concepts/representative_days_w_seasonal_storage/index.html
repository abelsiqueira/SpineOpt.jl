<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Representative days with seasonal storages · SpineOpt.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><script src="../../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SpineOpt.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../getting_started/installation/">Installation</a></li><li><a class="tocitem" href="../../getting_started/setup_workflow/">Setting up a workflow</a></li><li><a class="tocitem" href="../../getting_started/creating_your_own_model/">Creating Your Own Model</a></li><li><a class="tocitem" href="../../getting_started/example_models/">Example Models</a></li><li><a class="tocitem" href="../../getting_started/archetypes/">Archetypes</a></li><li><a class="tocitem" href="../../getting_started/output_data/">Managing Outputs</a></li></ul></li><li><span class="tocitem">Concept Reference</span><ul><li><a class="tocitem" href="../../concept_reference/the_basics/">Basics of the model structure</a></li><li><a class="tocitem" href="../../concept_reference/Object Classes/">Object Classes</a></li><li><a class="tocitem" href="../../concept_reference/Relationship Classes/">Relationship Classes</a></li><li><a class="tocitem" href="../../concept_reference/Parameters/">Parameters</a></li><li><a class="tocitem" href="../../concept_reference/Parameter Value Lists/">Parameter Value Lists</a></li></ul></li><li><span class="tocitem">Mathematical Formulation</span><ul><li><a class="tocitem" href="../../mathematical_formulation/variables/">Variables</a></li><li><a class="tocitem" href="../../mathematical_formulation/constraints/">Constraints</a></li><li><a class="tocitem" href="../../mathematical_formulation/objective_function/">Objective</a></li></ul></li><li><span class="tocitem">Advanced Concepts</span><ul><li><a class="tocitem" href="../temporal_framework/">Temporal Framework</a></li><li><a class="tocitem" href="../stochastic_framework/">Stochastic Framework</a></li><li><a class="tocitem" href="../unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../ramping_and_reserves/">Ramping and Reserves</a></li><li><a class="tocitem" href="../investment_optimization/">Investment Optimization</a></li><li><a class="tocitem" href="../user_constraints/">User Constraints</a></li><li><a class="tocitem" href="../decomposition/">Decomposition</a></li><li><a class="tocitem" href="../powerflow/">PTDF-Based Powerflow</a></li><li><a class="tocitem" href="../pressure_driven_gas_transfer/">Pressure driven gas transfer</a></li><li><a class="tocitem" href="../Lossless_DC_power_flow/">Lossless nodal DC power flows</a></li><li class="is-active"><a class="tocitem" href>Representative days with seasonal storages</a><ul class="internal"><li><a class="tocitem" href="#general_idea_rep_period_seasonal_Storage"><span>General idea</span></a></li><li><a class="tocitem" href="#Usage_rep_period_seasonal_Storage"><span>Usage of representative days and seasonal storages for investment problems</span></a></li></ul></li><li><a class="tocitem" href="../cumulated_flow_restrictions/">Imposing renewable energy targets</a></li></ul></li><li><a class="tocitem" href="../../library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Advanced Concepts</a></li><li class="is-active"><a href>Representative days with seasonal storages</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Representative days with seasonal storages</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Spine-project/SpineOpt.jl/blob/master/docs/src/advanced_concepts/representative_days_w_seasonal_storage.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Representative-days-with-seasonal-storages"><a class="docs-heading-anchor" href="#Representative-days-with-seasonal-storages">Representative days with seasonal storages</a><a id="Representative-days-with-seasonal-storages-1"></a><a class="docs-heading-anchor-permalink" href="#Representative-days-with-seasonal-storages" title="Permalink"></a></h1><p>In order to reduce computational times, representative periods are often used in optimization models. However, this often limits the ability to properly account for seasonal storages.</p><p>In SpineOpt, we provide functionality to use representative days with seasonal storages in combination with the package <a href="https://github.com/Spine-project/SpinePeriods.jl"><strong>SpinePeriods.jl</strong></a>.</p><h2 id="general_idea_rep_period_seasonal_Storage"><a class="docs-heading-anchor" href="#general_idea_rep_period_seasonal_Storage">General idea</a><a id="general_idea_rep_period_seasonal_Storage-1"></a><a class="docs-heading-anchor-permalink" href="#general_idea_rep_period_seasonal_Storage" title="Permalink"></a></h2><p>The general idea is to mimick the seasonal effects throughout a non-representative period, e.g. a year of optimization, by introducing a specific sequence of the representative periods. Taking the example of one year to be optimized with representative days and seasonal storages, <a href="https://github.com/Spine-project/SpinePeriods.jl"><strong>SpinePeriods.jl</strong></a> provides a mapping of each day of the year to its corresponding representative day. This information is stored in the mapping parameter <a href="../../concept_reference/Parameters/#representative_periods_mapping">representative_periods_mapping</a> and is defined on the <a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a> for the whole year. The <a href="../../concept_reference/Parameters/#representative_periods_mapping">representative_periods_mapping</a> parameter is a timeseries, pointing the beginning of each day to its corresponding representative day <a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a>, which can also be automatically be generated through <strong>SpinePeriods.jl</strong>.</p><p>In SpineOpt, this is interpreted in the following way:</p><ul><li>All operational variables, with the exception of the <a href="../../mathematical_formulation/variables/#node_state">node_state</a> variable, are created for each representative period. For each non-representative period, the variables are mapped to their corresponding variable of the representative periods according to the <a href="../../concept_reference/Parameters/#representative_periods_mapping">representative_periods_mapping</a> parameter.</li><li>Only the <a href="../../mathematical_formulation/variables/#node_state">node_state</a> variables and all investment <a href="../../mathematical_formulation/variables/#Variables">variables</a> are created for both, representative and non-representative period (of course, depending on the existance of relationships to <a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a>s).</li></ul><h2 id="Usage_rep_period_seasonal_Storage"><a class="docs-heading-anchor" href="#Usage_rep_period_seasonal_Storage">Usage of representative days and seasonal storages for investment problems</a><a id="Usage_rep_period_seasonal_Storage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage_rep_period_seasonal_Storage" title="Permalink"></a></h2><p>To make use of representative days with seasonal storages concept, multiple <a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a> objects need to be created and connected to the system components, holding information about the resolutions in different parts of the model that come into play. As described in the section <a href="../temporal_framework/#Temporal-Framework">Temporal Framework</a>, every temporal block needs to be connected to a <a href="../../concept_reference/Object Classes/#model">model</a> object.</p><ul><li><strong><a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a> for investments</strong>: In order to define the resolution of the investment decisions, a <a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a> relecting the frequency of investment decisions should be introduced. For yearly investment, the <a href="../../concept_reference/Parameters/#resolution">resolution</a> of this temporal block would be equal to <code>1Y</code>. In order to link <a href="../../concept_reference/Object Classes/#node">node</a>s, <a href="../../concept_reference/Object Classes/#unit">unit</a>s or <a href="../../concept_reference/Object Classes/#connection">connection</a>s to this investment resolution, the <a href="../../concept_reference/Relationship Classes/#node__investment_temporal_block">node__investment_temporal_block</a>, <a href="../../concept_reference/Relationship Classes/#unit__investment_temporal_block">unit__investment_temporal_block</a>, or <a href="../../concept_reference/Relationship Classes/#connection__investment_temporal_block">connection__investment_temporal_block</a> relationships need to be defined, respectively. For more details on investments, see also section <a href="../investment_optimization/#Investment-Optimization">Investment Optimization</a></li><li><strong><a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a> for representative days</strong>: For each representative day, one <a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a> needs to be created, indicating the <a href="../../concept_reference/Parameters/#block_start">block_start</a> and <a href="../../concept_reference/Parameters/#block_end">block_end</a> of the representative day. The use of disconnected periods is also described in the section <a href="../temporal_framework/#Disconnected-time-periods">Disconnected time periods</a>. The resolution of the representative days corresponds to the resolution of the operational variables, e.g. <code>1h</code>. In order to associate operational variables with the representative periods, <a href="../../concept_reference/Relationship Classes/#node__temporal_block">node__temporal_block</a> and <a href="../../concept_reference/Relationship Classes/#units_on__temporal_block">units_on__temporal_block</a> relationships need to be created. For convenience, it is also possible to create a group of all representative <a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a>s and link this group to these relationships. Note that, when using <strong>SpinePeriods.jl</strong>, the representative temporal blocks are auto-generated.</li><li><strong><a href="../../concept_reference/Object Classes/#temporal_block">temporal_block</a> for non-representative days</strong>: To introduce <a href="../../mathematical_formulation/variables/#node_state">node_state</a> variables for the entire operational period, a temporal block overarching the entire horizon is created. Note that currently, this temporal block needs to have the same resolution as the representative days, e.g. <code>1h</code>. In order to associate operational variables with the representative periods, <a href="../../concept_reference/Relationship Classes/#node__temporal_block">node__temporal_block</a> and <a href="../../concept_reference/Relationship Classes/#units_on__temporal_block">units_on__temporal_block</a> relationships need to be created. Note that, as described above, the non-representative variables, will be mapped to their corresponding representative days. To manually introduce the mapping between non-representative and representative periods, instead of using the recommended <a href="https://github.com/Spine-project/SpinePeriods.jl"><strong>SpinePeriods.jl</strong></a>, the user must define the mapping parameter <a href="../../concept_reference/Parameters/#representative_periods_mapping">representative_periods_mapping</a> by hand, consisting of <code>DateTime</code> indices (indicating the start of each non-representative period, e.g. for a daily mapping <code>2021-01-01T00:00:00</code>, <code>2021-01-02T00:00:00</code> etc.) and the name of the corresponding representative <code>temporal_block</code> as a value.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Lossless_DC_power_flow/">« Lossless nodal DC power flows</a><a class="docs-footer-nextpage" href="../cumulated_flow_restrictions/">Imposing renewable energy targets »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Friday 18 February 2022 14:37">Friday 18 February 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
