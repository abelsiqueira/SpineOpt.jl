<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PTDF-Based Powerflow · SpineOpt.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SpineOpt.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../getting_started/installation/">Installation</a></li><li><a class="tocitem" href="../../getting_started/setup_workflow/">Setting up a workflow</a></li><li><a class="tocitem" href="../../getting_started/creating_your_own_model/">Creating Your Own Model</a></li><li><a class="tocitem" href="../../getting_started/example_models/">Example Models</a></li><li><a class="tocitem" href="../../getting_started/archetypes/">Archetypes</a></li></ul></li><li><span class="tocitem">Concept Reference</span><ul><li><a class="tocitem" href="../../concept_reference/the_basics/">Basics of the model structure</a></li><li><a class="tocitem" href="../../concept_reference/Object Classes/">Object Classes</a></li><li><a class="tocitem" href="../../concept_reference/Relationship Classes/">Relationship Classes</a></li><li><a class="tocitem" href="../../concept_reference/Parameters/">Parameters</a></li><li><a class="tocitem" href="../../concept_reference/Parameter Value Lists/">Parameter Value Lists</a></li></ul></li><li><span class="tocitem">Mathematical Formulation</span><ul><li><a class="tocitem" href="../../mathematical_formulation/variables/">Variables</a></li><li><a class="tocitem" href="../../mathematical_formulation/constraints/">Constraints</a></li><li><a class="tocitem" href="../../mathematical_formulation/objective_function/">Objective</a></li></ul></li><li><span class="tocitem">Advanced Concepts</span><ul><li><a class="tocitem" href="../temporal_framework/">Temporal Framework</a></li><li><a class="tocitem" href="../stochastic_framework/">Stochastic Framework</a></li><li><a class="tocitem" href="../unit_commitment/">Unit Commitment</a></li><li><a class="tocitem" href="../ramping_and_reserves/">Ramping and Reserves</a></li><li><a class="tocitem" href="../investment_optimization/">Investment Optimization</a></li><li><a class="tocitem" href="../user_constraints/">User Constraints</a></li><li><a class="tocitem" href="../decomposition/">Decomposition</a></li><li class="is-active"><a class="tocitem" href>PTDF-Based Powerflow</a><ul class="internal"><li><a class="tocitem" href="#key-concepts-advanced-ptdf-DC"><span>Key concepts</span></a></li></ul></li><li><a class="tocitem" href="../pressure_driven_gas_transfer/">Pressure driven gas transfer</a></li><li><a class="tocitem" href="../Lossless_DC_power_flow/">Lossless nodal DC power flows</a></li><li><a class="tocitem" href="../representative_days_w_seasonal_storage/">Representative days with seasonal storages</a></li></ul></li><li><a class="tocitem" href="../../library/">Library</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Advanced Concepts</a></li><li class="is-active"><a href>PTDF-Based Powerflow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>PTDF-Based Powerflow</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Spine-project/SpineOpt.jl/blob/master/docs/src/advanced_concepts/powerflow.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ptdf-based-powerflow"><a class="docs-heading-anchor" href="#ptdf-based-powerflow">Power transfer distribution factors (PTDF) based DC power flow</a><a id="ptdf-based-powerflow-1"></a><a class="docs-heading-anchor-permalink" href="#ptdf-based-powerflow" title="Permalink"></a></h1><p>There are two main methodologies for directly including DC powerflow in unit commitment/energy system models. One method is to directly include the bus voltage angles as variables in the model. This method is described in <a href="../Lossless_DC_power_flow/#key-concepts-advanced-nodal-DC">Nodal lossless DC Powerflow</a>.</p><p>Here we discuss the method of using power transfer distribution factors (PTDF) for DC power flow and line outage distribution factors (lodf) for security constrained unit commitment.</p><h2 id="key-concepts-advanced-ptdf-DC"><a class="docs-heading-anchor" href="#key-concepts-advanced-ptdf-DC">Key concepts</a><a id="key-concepts-advanced-ptdf-DC-1"></a><a class="docs-heading-anchor-permalink" href="#key-concepts-advanced-ptdf-DC" title="Permalink"></a></h2><ol><li><strong>ptdf</strong>: The power transfer distribution factors are a property of the network reactances and their derivation may be found <a href="https://www.worldcat.org/title/power-generation-operation-and-control/oclc/886509477">here</a>. <code>ptdf(n, c)</code> represents the fraction of an injection at <a href="../../concept_reference/Object Classes/#node">node</a> n that will flow on <a href="../../concept_reference/Object Classes/#connection">connection</a> c. The flow on <a href="../../concept_reference/Object Classes/#connection">connection</a> c is then the sum over all nodes of <code>ptdf(n, c)*net_injection(c)</code>. The advantage of this method is that it introduces no additional variables into the problem and instead, introduces only one constraint for each connection whose flow we are interested in monitoring.</li><li><strong>lodf</strong>: Line outage distribution factors are a function of the network ptdfs and their derivation is also found <a href="https://www.worldcat.org/title/power-generation-operation-and-control/oclc/886509477">here</a>. <code>lodf(c_contingency, c_monitored)</code> represents the fraction of the pre-contingency flow on connection <code>c_contingency</code> that will flow on <code>c_monitored</code> if <code>c_contingency</code> is disconnected. Therefore, the post contingency flow on connection <code>c_monitored</code> is the <code>pre_contingency flow</code> plus <code>lodf(c_contingency, c_monitored)\*pre_contingency_flow(c_contingency))</code>. Therefore, consideration of N contingencies on M monitored lines introduces N x M constraints into the model. Usually one wishes to contain this number and methods are given below to achieve this.</li><li><strong>Defining your network</strong> To identify the network for which ptdfs, lodfs and connection_flows will be calculated according to the ptdf method, one does the following:<ul><li>Create <a href="../../concept_reference/Object Classes/#node">node</a> objects for each bus in the model.</li><li>Create <a href="../../concept_reference/Object Classes/#connection">connection</a> objects representing each line of the network: For each connection specify the <a href="../../concept_reference/Parameters/#connection_reactance">connection_reactance</a> parameter and the <a href="../../concept_reference/Parameters/#connection_type">connection_type</a> parameter. Setting <a href="../../concept_reference/Parameters/#connection_type">connection_type</a>=<code>connection_type_lossless_bidirectional</code> simplifies the amount of data that needs to be specified for an eletrical network. See <a href="../../concept_reference/Parameters/#connection_type">connection_type</a> for more details   </li><li>Set the <a href="../../concept_reference/Relationship Classes/#connection__to_node">connection__to_node</a> and <a href="../../concept_reference/Relationship Classes/#connection__from_node">connection__from_node</a> relationships to define the topology of each connection along with the <a href="../../concept_reference/Parameters/#connection_capacity">connection_capacity</a> parameter on one or both of these relationships.</li><li>Set the <a href="../../concept_reference/Parameters/#connection_emergency_capacity">connection_emergency_capacity</a> parameter to define the post contingency rating if lodf-based N-1 security constraints are to be included</li><li>Create a <a href="../../concept_reference/Object Classes/#commodity">commodity</a> object and <a href="../../concept_reference/Relationship Classes/#node__commodity">node__commodity</a> relationships for all the nodes that comprise the electrical network for which PTDFs are to be calculated.</li><li>Specify the <a href="../../concept_reference/Parameters/#commodity_physics">commodity_physics</a> parameter for the commodity to <code>:commodity_physics_ptdf</code> if ptdf-based DC load flow is desired with no N-1 security constraints or to <code>:commodity_physics_lodf</code> if it is desired to include lodf-based N-1 security constraints</li><li>To identify the reference bus(<a href="../../concept_reference/Object Classes/#node">node</a>) specify the <a href="../../concept_reference/Parameters/#node_opf_type">node_opf_type</a> parameter for the appropriate <a href="../../concept_reference/Object Classes/#node">node</a> with the value <code>node_opf_type_reference</code>.</li></ul></li><li><strong>Controlling problem size</strong></li></ol><ul><li>The lines to be monitored are specified by setting the <a href="../../concept_reference/Parameters/#connection_monitored">connection_monitored</a> property for each connection for which a flow constraint is to be generated</li><li>The contingencies to be considered are specified by setting the <a href="../../concept_reference/Parameters/#connection_contingency">connection_contingency</a> property for the appropriate connections. For N contingencies and M monitored lines, N x M constraints will be generated.</li><li>If the <code>lodf(c_contingency, c_monitored)</code> is very small, it means the outage of <code>c_contingency</code> has a small impact on the flow on <code>c_monitored</code>and there is little point in including this constraint in the model. This can be achieved by setting the <code>commodity_lodf_tolerance</code> <a href="../../concept_reference/Object Classes/#commodity">commodity</a> parameter. Contingency / Monotired line combinations with lodfs below this value will be ignored, reducing the size of the model.</li><li>If <code>ptdf(n, c)</code> is very small, it means an injection at n has a small impact on the flow on c and there is little point in considering it. This can be achieved by setting the <code>commodity_ptdf_threshold</code> <a href="../../concept_reference/Object Classes/#commodity">commodity</a> parameter. Node / Monotired line combinations with ptdfs below this value will be ignored, reducing the number of coefficients in the model.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../decomposition/">« Decomposition</a><a class="docs-footer-nextpage" href="../pressure_driven_gas_transfer/">Pressure driven gas transfer »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.6 on <span class="colophon-date" title="Monday 20 September 2021 14:58">Monday 20 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
